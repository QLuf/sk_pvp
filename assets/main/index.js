window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var h=o[c]={exports:{}};e[c][0].call(h.exports,function(t){return i(e[c][1][t]||t)},h,h.exports,t,e,o,n)}return o[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AdManager:[function(t,e){"use strict";cc._RF.push(e,"30051oXO4dBFq2W2/44VWNY","AdManager"),cc.Class({extends:cc.Component,properties:{androidLink:{default:""},iosLink:{default:""},defaultLink:{default:""}},openAdUrl:function(){window.androidLink=this.androidLink,window.iosLink=this.iosLink,window.defaultLink=this.defaultLink,window.openAdUrl?window.openAdUrl():window.open()}}),cc._RF.pop()},{}],Ashley:[function(t,e,o){"use strict";cc._RF.push(e,"4e912jza9pAWpeqGGvsVZgj","Ashley");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Constant"),a=t("./Hero"),r=t("./HeroListener"),l=cc._decorator,h=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletPrefab=null,e.animAttackArr=["attack_a","attack_b","attack_c","attack_d","attack_e"],e}return i(e,t),e.prototype.start=function(){this.animSkillArr=["skill_1_start","skill_2","ultimate"],this.colliderNameArr=[this.bulletPrefab.name,"ultimate_collider"]},e.prototype.addCaseSkelListener=function(t){"skill_1_end"!=t&&"skill_2"!=t&&"ultimate"!=t||(this.isRun?this.changeAnimation(0,"run",!0):this.changeAnimation(0,"idle",!0),this.checkOpponentAction())},e.prototype.onBulletExplode=function(t,e,o){t==this.node&&(o?this.showEffect("ashley_bullet_trigger",this.node.parent,0,null,o.add(cc.v3(-30,-50))):this.showEffect("ashley_bullet_trigger",e.node.parent,0,null,e.node.position.add(cc.v3(-30,100))))},e.prototype.checkSkill=function(){return-1!==this.animSkillArr.indexOf(this.skeleton.animation)||"skill_1_end"==this.skeleton.animation},e.prototype.runEffect=function(){switch(this.type,this.skeleton.animation){case"skill_1_start":this.createEfx("eff_skill_1_start","red",this.node,1.5,this.node.position.add(cc.v3(30,50)));break;case"ultimate":this.canvas.emit(c.Constant.EVENT.SOUND.ASHLEY_ULTIMATE),this.createEfx("eff_ultimate","red",this.node,1,cc.v3())}},e.prototype.checkShoot=function(){var t=this;switch(this.skeleton.animation){case"attack_a":this.shoot(0,150,50),this.showEffect("ashley_bullet_shoot",this.node,0,null,cc.v3(550,400)),this.scheduleOnce(function(){t.shoot(0,150,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(550,400))},.2);break;case"attack_b":this.shoot(0,110,50),this.showEffect("ashley_bullet_shoot",this.node,0,null,cc.v3(550,300));break;case"attack_c":this.shoot(1,150,50),this.showEffect("ashley_bullet_shoot",this.node,0,null,cc.v3(550,420)),this.scheduleOnce(function(){t.shoot(-1,145,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(550,380))},.1),this.scheduleOnce(function(){t.shoot(1,150,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(550,420))},.3),this.scheduleOnce(function(){t.shoot(-1,150,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(550,400))},.4);break;case"attack_d":this.shoot(-1,100,50),this.showEffect("ashley_bullet_shoot",this.node,0,null,cc.v3(600,250)),this.scheduleOnce(function(){t.shoot(1,100,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(600,250))},.15),this.scheduleOnce(function(){t.shoot(1,100,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(600,250))},.3);break;case"attack_e":this.shoot(0,100,50),this.showEffect("ashley_bullet_shoot",this.node,0,null,cc.v3(300,250)),this.scheduleOnce(function(){t.shoot(0,100,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(600,250))},.1),this.scheduleOnce(function(){t.shoot(0,100,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(300,250))},.3),this.scheduleOnce(function(){t.shoot(0,100,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(600,250))},.4)}},e.prototype.action=function(){var t=this,e=cc.tween,o=this.getDirectionParam();switch(this.type,this.skeleton.animation){case"skill_1_start":this.canvas.emit(c.Constant.EVENT.SOUND.ASHLEY_SKILL_1_START),e(this.node).by(.4,{x:300*o}).call(function(){t.checkOutScreen(),t.canvas.emit(c.Constant.EVENT.SOUND.ASHLEY_SKILL_1_END),t.changeAnimation(0,"skill_1_end",!1),t.shoot(170,50,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(-600,300),170),t.scheduleOnce(function(){t.shoot(70,100,-30),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(100,500),70)},.1),t.scheduleOnce(function(){t.shoot(75,100,-30),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(0,500),75)},.2),t.scheduleOnce(function(){t.shoot(70,100,-30),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(100,500),70)},.3),t.scheduleOnce(function(){t.shoot(75,100,-30),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(0,500),75)},.4),t.scheduleOnce(function(){t.shoot(70,100,-30),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(100,500),70)},.5),t.createEfx("eff_skill_1_end","red",t.node,1,cc.v3())}).start();break;case"skill_2":this.shoot(0,100,50),this.showEffect("ashley_bullet_shoot",this.node,0,null,cc.v3(500,300),0),this.scheduleOnce(function(){t.shoot(3,105,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(480,320),3)},.1),this.scheduleOnce(function(){t.shoot(6,110,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(460,340),6)},.2),this.scheduleOnce(function(){t.shoot(9,115,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(440,360),9)},.3),this.scheduleOnce(function(){t.shoot(12,120,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(420,380),12)},.4),this.scheduleOnce(function(){t.shoot(12,120,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(420,380),12)},.5),this.scheduleOnce(function(){t.shoot(15,125,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(400,400),15)},.6),this.scheduleOnce(function(){t.shoot(15,125,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(400,400),15)},.7),this.scheduleOnce(function(){t.shoot(18,130,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(380,420),18)},.8),this.scheduleOnce(function(){t.shoot(18,130,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(380,420),18)},.9),this.scheduleOnce(function(){t.shoot(21,135,50),t.showEffect("ashley_bullet_shoot",t.node,0,null,cc.v3(360,440),21)},1)}},e.prototype.shoot=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),this.canvas.emit(c.Constant.EVENT.SOUND.ASHLEY_BULLET_NORMAL);var n=this.getDirectionParam(),i=this.createBullet();this.node.parent.addChild(i),i.position=this.node.position.add(cc.v3(o*n,e)),i.angle=n>0?t:180-t;var s=1e3*Math.sin(t*Math.PI/180),a=1e3*Math.cos(t*Math.PI/180);cc.tween(i).by(.4,{position:cc.v3(a*n,s)}).call(function(){i.destroy()}).start()},e.prototype.createBullet=function(){var t=cc.instantiate(this.bulletPrefab);return t.getComponent(r.default).hero=this.node,t.getComponent(r.default).damage=30,t.getComponent(r.default).isExplode=!0,t},s([p(cc.Prefab)],e.prototype,"bulletPrefab",void 0),s([h],e)}(a.default);o.default=d,cc._RF.pop()},{"../Constant":"Constant","./Hero":"Hero","./HeroListener":"HeroListener"}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"e8863E19W9B4YgCM/pCz5DZ","AudioManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Constant"),a=cc._decorator,r=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.click=null,e.fight=null,e.velora_atk_a=null,e.velora_atk_b=null,e.velora_atk_d=null,e.velora_atk_e=null,e.velora_skill_1=null,e.velora_skill_2=null,e.velora_skill_3_1=null,e.velora_skill_3_2=null,e.kazetsu_atk_a=null,e.kazetsu_atk_b=null,e.kazetsu_atk_c=null,e.kazetsu_atk_d=null,e.kazetsu_skill_1=null,e.kazetsu_skill_2_1=null,e.kazetsu_skill_2_2=null,e.kazetsu_skill_2_3=null,e.kazetsu_skill_3=null,e.ashley_bullet_normal=null,e.ashley_skill_1_start=null,e.ashley_skill_1_end=null,e.ashley_ultimate=null,e.end=null,e.enemy_awake=null,e.victory=null,e.defeat=null,e}return i(e,t),e.prototype.start=function(){this.addEventListener(),this.onBackground()},e.prototype.addEventListener=function(){cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.BACKGROUND,this.onBackground,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.CLICK,this.onClick,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.FIGHT,this.onFight,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.END,this.onEnd,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.VICTORY,this.onVictory,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.DEFEAT,this.onDefeat,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.VELORA_ATK_A,this.onVeloraAtkA,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.VELORA_ATK_B,this.onVeloraAtkB,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.VELORA_ATK_D,this.onVeloraAtkD,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.VELORA_ATK_E,this.onVeloraAtkE,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.VELORA_SKILL_1,this.onVeloraSkill1,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.VELORA_SKILL_2,this.onVeloraSkill2,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.VELORA_SKILL_3,this.onVeloraSkill3,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.KAZETSU_ATK_A,this.onKazetsuAtkA,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.KAZETSU_ATK_B,this.onKazetsuAtkB,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.KAZETSU_ATK_C,this.onKazetsuAtkC,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.KAZETSU_ATK_D,this.onKazetsuAtkD,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.KAZETSU_SKILL_1,this.onKazetsuSkill1,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.KAZETSU_SKILL_2,this.onKazetsuSkill2,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.KAZETSU_SKILL_3,this.onKazetsuSkill3,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.ASHLEY_BULLET_NORMAL,this.onAshleyBulletNormal,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.ASHLEY_SKILL_1_START,this.onAshleySkill1Start,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.ASHLEY_SKILL_1_END,this.onAshleySkill1End,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.ASHLEY_ULTIMATE,this.onAshleyUltimate,this),cc.Canvas.instance.node.on(c.Constant.EVENT.SOUND.ENEMY_AWAKE,this.onEnemyAwake,this)},e.prototype.onBackground=function(){cc.audioEngine.play(this.background,!0,1)},e.prototype.onAshleyBulletNormal=function(){cc.audioEngine.play(this.ashley_bullet_normal,!1,1)},e.prototype.onAshleySkill1Start=function(){cc.audioEngine.play(this.ashley_skill_1_start,!1,1)},e.prototype.onAshleySkill1End=function(){cc.audioEngine.play(this.ashley_skill_1_end,!1,1)},e.prototype.onAshleyUltimate=function(){cc.audioEngine.play(this.ashley_ultimate,!1,1)},e.prototype.onVictory=function(){cc.audioEngine.play(this.victory,!1,1)},e.prototype.onDefeat=function(){cc.audioEngine.play(this.defeat,!1,1)},e.prototype.onClick=function(){cc.audioEngine.play(this.click,!1,1)},e.prototype.onEnemyAwake=function(){cc.audioEngine.play(this.enemy_awake,!1,1)},e.prototype.onFight=function(){cc.audioEngine.play(this.fight,!1,1)},e.prototype.onVeloraAtkA=function(){cc.audioEngine.play(this.velora_atk_a,!1,1)},e.prototype.onVeloraAtkB=function(){cc.audioEngine.play(this.velora_atk_b,!1,1)},e.prototype.onVeloraAtkD=function(){cc.audioEngine.play(this.velora_atk_d,!1,1)},e.prototype.onVeloraAtkE=function(){cc.audioEngine.play(this.velora_atk_e,!1,1)},e.prototype.onVeloraSkill1=function(){cc.audioEngine.play(this.velora_skill_1,!1,1)},e.prototype.onVeloraSkill2=function(){cc.audioEngine.play(this.velora_skill_2,!1,1)},e.prototype.onVeloraSkill3=function(){var t=this;cc.audioEngine.play(this.velora_skill_3_1,!1,1),this.scheduleOnce(function(){cc.audioEngine.play(t.velora_skill_3_2,!1,1)},.5)},e.prototype.onKazetsuAtkA=function(){cc.audioEngine.play(this.kazetsu_atk_a,!1,1)},e.prototype.onKazetsuAtkB=function(){cc.audioEngine.play(this.kazetsu_atk_b,!1,1)},e.prototype.onKazetsuAtkC=function(){cc.audioEngine.play(this.kazetsu_atk_c,!1,1)},e.prototype.onKazetsuAtkD=function(){cc.audioEngine.play(this.kazetsu_atk_d,!1,1)},e.prototype.onKazetsuSkill1=function(){cc.audioEngine.play(this.kazetsu_skill_1,!1,1)},e.prototype.onKazetsuSkill2=function(){var t=this;this.scheduleOnce(function(){cc.audioEngine.play(t.kazetsu_skill_2_1,!1,1)},.5),this.scheduleOnce(function(){cc.audioEngine.play(t.kazetsu_skill_2_2,!1,1)},1.2),this.scheduleOnce(function(){cc.audioEngine.play(t.kazetsu_skill_2_3,!1,1)},2)},e.prototype.onKazetsuSkill3=function(){cc.audioEngine.play(this.kazetsu_skill_3,!1,1)},e.prototype.onEnd=function(){cc.audioEngine.play(this.end,!1,1)},s([l({type:cc.AudioClip})],e.prototype,"background",void 0),s([l({type:cc.AudioClip})],e.prototype,"click",void 0),s([l({type:cc.AudioClip})],e.prototype,"fight",void 0),s([l({type:cc.AudioClip})],e.prototype,"velora_atk_a",void 0),s([l({type:cc.AudioClip})],e.prototype,"velora_atk_b",void 0),s([l({type:cc.AudioClip})],e.prototype,"velora_atk_d",void 0),s([l({type:cc.AudioClip})],e.prototype,"velora_atk_e",void 0),s([l({type:cc.AudioClip})],e.prototype,"velora_skill_1",void 0),s([l({type:cc.AudioClip})],e.prototype,"velora_skill_2",void 0),s([l({type:cc.AudioClip})],e.prototype,"velora_skill_3_1",void 0),s([l({type:cc.AudioClip})],e.prototype,"velora_skill_3_2",void 0),s([l({type:cc.AudioClip})],e.prototype,"kazetsu_atk_a",void 0),s([l({type:cc.AudioClip})],e.prototype,"kazetsu_atk_b",void 0),s([l({type:cc.AudioClip})],e.prototype,"kazetsu_atk_c",void 0),s([l({type:cc.AudioClip})],e.prototype,"kazetsu_atk_d",void 0),s([l({type:cc.AudioClip})],e.prototype,"kazetsu_skill_1",void 0),s([l({type:cc.AudioClip})],e.prototype,"kazetsu_skill_2_1",void 0),s([l({type:cc.AudioClip})],e.prototype,"kazetsu_skill_2_2",void 0),s([l({type:cc.AudioClip})],e.prototype,"kazetsu_skill_2_3",void 0),s([l({type:cc.AudioClip})],e.prototype,"kazetsu_skill_3",void 0),s([l({type:cc.AudioClip})],e.prototype,"ashley_bullet_normal",void 0),s([l({type:cc.AudioClip})],e.prototype,"ashley_skill_1_start",void 0),s([l({type:cc.AudioClip})],e.prototype,"ashley_skill_1_end",void 0),s([l({type:cc.AudioClip})],e.prototype,"ashley_ultimate",void 0),s([l({type:cc.AudioClip})],e.prototype,"end",void 0),s([l({type:cc.AudioClip})],e.prototype,"enemy_awake",void 0),s([l({type:cc.AudioClip})],e.prototype,"victory",void 0),s([l({type:cc.AudioClip})],e.prototype,"defeat",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Constant":"Constant"}],BlockListener:[function(t,e,o){"use strict";cc._RF.push(e,"fa355gL3YlKuZ8VDb/j3oN+","BlockListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,r=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e}return i(e,t),e.prototype.start=function(){this.canvas=cc.Canvas.instance.node},e.prototype.onCollisionEnter=function(){},s([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],CameraManager:[function(t,e,o){"use strict";cc._RF.push(e,"81a955XcG1KC5b1NXJGOJb4","CameraManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Constant"),a=cc._decorator,r=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cameraNode=null,e.camera=null,e}return i(e,t),e.prototype.onLoad=function(){cc.Canvas.instance.node.on(c.Constant.EVENT.CAMERA_SHAKE,this.onCameraShake,this),cc.Canvas.instance.node.on(c.Constant.EVENT.CAMERA_MOVE,this.onCameraMove,this)},e.prototype.start=function(){},e.prototype.onCameraMove=function(t){var e=cc.tween;t.setPos&&this.cameraNode.setPosition(t.setPos),t.movePos&&e(this.cameraNode).by(t.moveTime,{position:t.movePos}).start(),t.setZoom&&(this.camera.zoomRatio=t.setZoom),t.moveZoom&&e(this.camera).to(t.moveTime,{zoomRatio:t.moveZoom}).start()},e.prototype.onCameraShake=function(){cc.tween(this.cameraNode).by(.1,{position:cc.v2(0,20)}).by(.1,{position:cc.v2(0,-40)}).by(.1,{position:cc.v2(0,20)}).start()},s([l(cc.Node)],e.prototype,"cameraNode",void 0),s([l(cc.Camera)],e.prototype,"camera",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Constant":"Constant"}],Centaur:[function(t,e,o){"use strict";cc._RF.push(e,"eed18WB/T9GzosWCIAHW2kH","Centaur");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Enemy"),a=cc._decorator,r=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sword_collider=null,e}return i(e,t),e.prototype.start=function(){this.colliderAtkArr=[this.sword_collider],this.colliderNameArr=[this.sword_collider.node.name],this.sword_collider.enabled=!1,this.setDamage(this.sword_collider,this.type.ATK_DAMAGE)},e.prototype.enableCollider=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1),this.checkAttack()&&this.setUpCollider(this.sword_collider,.5,e,.15)},s([l(cc.PolygonCollider)],e.prototype,"sword_collider",void 0),s([r],e)}(c.default);o.default=h,cc._RF.pop()},{"./Enemy":"Enemy"}],Constant:[function(t,e,o){"use strict";cc._RF.push(e,"a99b3ZwG/hGzrdW5Zq6976I","Constant"),Object.defineProperty(o,"__esModule",{value:!0}),o.MAP=o.ENEMY=o.HERO=o.DIRECTION=o.CAMERA_DATA=o.Constant=void 0,o.Constant={GAME:{GRAVITY:cc.v2(0,-1e3),JUMP_FORCE:cc.v2(0,12e5)},EVENT:{END_GAME:"END_GAME",COUNT_ENEMY_DIE:"COUNT_ENEMY_DIE",COUNT_HERO_DIE:"COUNT_HERO_DIE",CAMERA_SHAKE:"CAMERA_SHAKE",CAMERA_MOVE:"CAMERA_MOVE",SET_BLOOD_HERO:"SET_BLOOD_HERO",HERO_RUN:"HERO_RUN",HERO_IDLE:"HERO_IDLE",HERO_JUMP:"HERO_JUMP",HERO_ATTACK:"HERO_ATTACK",HERO_SKILL:"HERO_SKILL",HERO_ATTACKED:"HERO_ATTACKED",BULLET_EXPLODE:"BULLET_EXPLODE",HERO_SET_ZINDEX:"HERO_SET_ZINDEX",START_GAME:"START_GAME",OPPONENT_MEET_PLAYER:"OPPONENT_MEET_PLAYER",ENEMY_ATTACKED:"ENEMY_ATTACKED",ENEMY_MEET_PLAYER:"ENEMY_MEET_PLAYER",SOUND:{BACKGROUND:"BACKGROUND",CLICK:"CLICK",FIGHT:"FIGHT",END:"END",VICTORY:"VICTORY",DEFEAT:"DEFEAT",VELORA_ATK_A:"VELORA_ATK_A",VELORA_ATK_B:"VELORA_ATK_B",VELORA_ATK_D:"VELORA_ATK_D",VELORA_ATK_E:"VELORA_ATK_E",VELORA_SKILL_1:"VELORA_SKILL_1",VELORA_SKILL_2:"VELORA_SKILL_2",VELORA_SKILL_3:"VELORA_SKILL_3",KAZETSU_ATK_A:"KAZETSU_ATK_A",KAZETSU_ATK_B:"KAZETSU_ATK_B",KAZETSU_ATK_C:"KAZETSU_ATK_C",KAZETSU_ATK_D:"KAZETSU_ATK_D",KAZETSU_SKILL_1:"KAZETSU_SKILL_1",KAZETSU_SKILL_2:"KAZETSU_SKILL_2",KAZETSU_SKILL_3:"KAZETSU_SKILL_3",ASHLEY_BULLET_NORMAL:"ASHLEY_BULLET_NORMAL",ASHLEY_SKILL_1_START:"ASHLEY_SKILL_1_START",ASHLEY_SKILL_1_END:"ASHLEY_SKILL_1_END",ASHLEY_ULTIMATE:"ASHLEY_ULTIMATE",ENEMY_AWAKE:"ENEMY_AWAKE"}},ZINDEX:{BRIDGE:50,UI:200,HERO:30,OPPONENT:25,EFX:40,BLOOD:10}};var n;o.CAMERA_DATA=function(t,e,o,n,i){this.setPos=cc.v3(),this.setZoom=1,this.movePos=cc.v3(),this.moveZoom=1,this.moveTime=0,this.setPos=t,this.setZoom=e,this.movePos=o,this.moveZoom=n,this.moveTime=i},function(t){t[t.LEFT=-1]="LEFT",t[t.RIGHT=1]="RIGHT"}(n=o.DIRECTION||(o.DIRECTION={}));var i=function(){function t(){this.NAME="",this.POS=cc.v3(),this.BLOOD=1e3,this.ATK_1_DAMAGE=50,this.ATK_2_DAMAGE=60,this.ATK_3_DAMAGE=70,this.ATK_4_DAMAGE=80,this.ATK_TIMESCALE=1.6,this.SKILL_1="",this.SKILL_2="",this.SKILL_3="",this.SKILL_1_DAMAGE=100,this.SKILL_2_DAMAGE=80,this.SKILL_3_DAMAGE=80,this.START_DIRECTION=n.RIGHT}return t.prototype.setName=function(t){return this.NAME=t,this},t.prototype.setPos=function(t){return this.POS=t,this},t.prototype.setBlood=function(t){return this.BLOOD=t,this},t.prototype.setAtk1Damage=function(t){return this.ATK_1_DAMAGE=t,this},t.prototype.setAtk2Damage=function(t){return this.ATK_2_DAMAGE=t,this},t.prototype.setAtk3Damage=function(t){return this.ATK_3_DAMAGE=t,this},t.prototype.setAtk4Damage=function(t){return this.ATK_4_DAMAGE=t,this},t.prototype.setAtkTimeScale=function(t){return this.ATK_TIMESCALE=t,this},t.prototype.setStartDirection=function(t){return this.START_DIRECTION=t,this},t.prototype.setSkill1=function(t){return this.SKILL_1=t,this},t.prototype.setSkill2=function(t){return this.SKILL_2=t,this},t.prototype.setSkill3=function(t){return this.SKILL_3=t,this},t.prototype.setSkill1Damage=function(t){return this.SKILL_1_DAMAGE=t,this},t.prototype.setSkill2Damage=function(t){return this.SKILL_2_DAMAGE=t,this},t.prototype.setSkill3Damage=function(t){return this.SKILL_3_DAMAGE=t,this},t}();o.HERO={VELORA:(new i).setName("Velora").setPos(cc.v3(116,-120)).setBlood(1e3).setAtk1Damage(50).setAtk2Damage(60).setAtk3Damage(70).setAtk4Damage(80).setAtkTimeScale(1.6).setStartDirection(n.RIGHT).setSkill1("skill1").setSkill2("skill2").setSkill3("skill3").setSkill1Damage(90).setSkill2Damage(90).setSkill3Damage(200),KAZETSU:(new i).setName("Kazetsu").setPos(cc.v3(300,-125)).setBlood(1e3).setAtk1Damage(60).setAtk2Damage(70).setAtk3Damage(80).setAtk4Damage(90).setAtkTimeScale(1.6).setStartDirection(n.LEFT).setSkill1("skill_1").setSkill2("skill_2").setSkill3("skill_3").setSkill1Damage(200).setSkill2Damage(110).setSkill3Damage(140),ASHLEY:(new i).setName("Ashley").setPos(cc.v3(300,-125)).setBlood(1e3).setAtk1Damage(50).setAtk2Damage(60).setAtk3Damage(70).setAtk4Damage(80).setAtkTimeScale(1.6).setStartDirection(n.LEFT).setSkill1("skill_1").setSkill2("skill_2").setSkill3("skill_3").setSkill1Damage(200).setSkill2Damage(100).setSkill3Damage(120)};var s=function(){function t(){this.BLOOD=1e3,this.ATK_DAMAGE=50,this.SPEED=250,this.ATK_TIMESCALE=1,this.ATTACK=[],this.IDLE="",this.RUN="",this.DIE="",this.GET_HURT=""}return t.prototype.setBlood=function(t){return this.BLOOD=t,this},t.prototype.setAtkDamage=function(t){return this.ATK_DAMAGE=t,this},t.prototype.setSpeed=function(t){return this.SPEED=t,this},t.prototype.setAtkTimeScale=function(t){return this.ATK_TIMESCALE=t,this},t.prototype.setAttack=function(t){return this.ATTACK=t,this},t.prototype.setIdle=function(t){return this.IDLE=t,this},t.prototype.setRun=function(t){return this.RUN=t,this},t.prototype.setDie=function(t){return this.DIE=t,this},t.prototype.setGetHurt=function(t){return this.GET_HURT=t,this},t}();o.ENEMY={RUNNER:(new s).setBlood(200).setAtkDamage(50).setSpeed(250).setAtkTimeScale(1).setAttack(["attack"]).setIdle("idle").setRun("run_fast").setDie("die_idle_bottom").setGetHurt("get_hurt"),SWORD:(new s).setBlood(200).setAtkDamage(50).setSpeed(200).setAtkTimeScale(1).setAttack(["attack_a","attack_b"]).setIdle("idle").setRun("run").setDie("die_idle_bottom").setGetHurt("get_hurt"),CENTAUR:(new s).setBlood(200).setAtkDamage(50).setSpeed(250).setAtkTimeScale(1).setAttack(["attack"]).setIdle("idle").setRun("run").setDie("die_idle_bottom").setGetHurt("get_hurt")};var c=function(){function t(){this.TYPE=null,this.SPAWN_TIME=1,this.DIRECTION=1,this.POS_X=600}return t.prototype.setType=function(t){return this.TYPE=t,this},t.prototype.setSpawnTime=function(t){return this.SPAWN_TIME=t,this},t.prototype.setDirection=function(t){return t=1==t?1:-1,this.DIRECTION=t,this},t.prototype.setPosX=function(t){return this.POS_X=t,this},t}();o.MAP={MAP_1:[(new c).setType(o.ENEMY.RUNNER).setSpawnTime(0).setDirection(1),(new c).setType(o.ENEMY.RUNNER).setSpawnTime(1.5).setDirection(-1),(new c).setType(o.ENEMY.RUNNER).setSpawnTime(3).setDirection(1),(new c).setType(o.ENEMY.RUNNER).setSpawnTime(4.5).setDirection(-1),(new c).setType(o.ENEMY.SWORD).setSpawnTime(6).setDirection(1),(new c).setType(o.ENEMY.SWORD).setSpawnTime(7.5).setDirection(-1),(new c).setType(o.ENEMY.SWORD).setSpawnTime(9).setDirection(1),(new c).setType(o.ENEMY.SWORD).setSpawnTime(10.5).setDirection(-1),(new c).setType(o.ENEMY.CENTAUR).setSpawnTime(12).setDirection(1),(new c).setType(o.ENEMY.CENTAUR).setSpawnTime(13.5).setDirection(-1)]},cc._RF.pop()},{}],Efx:[function(t,e,o){"use strict";cc._RF.push(e,"1fd51waugNKh6mLK4AEH6lb","Efx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Constant"),a=t("./Hero/HeroListener"),r=cc._decorator,l=r.ccclass,h=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ultimate_collider=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.enableCollider=function(t,e,o){void 0===o&&(o=0);var n=t.type;if(Object.values(c.HERO).indexOf(n),Object.values(c.HERO).indexOf(n),-1!==Object.values(c.HERO).indexOf(n))switch(this.ultimate_collider.node.active=!1,this.ultimate_collider.enabled=!1,e){case"eff_ultimate":for(var i=[cc.v3(324,775),cc.v3(1276,1298),cc.v3(-501,511),cc.v3(9,1209),cc.v3(-1206,519),cc.v3(594,601),cc.v3(1238,1252),cc.v3(1365,705),cc.v3(-127,488),cc.v3(-1057,1275),cc.v3(-1747,578),cc.v3(404,1035),cc.v3(-541,563),cc.v3(1206,787),cc.v3(-1321,1514),cc.v3(404,607),cc.v3(1303,1432),cc.v3(-121,1800),cc.v3(-1306,712),cc.v3(906,697)],s=0;s<i.length;s++)this.setUpEffCollider(this.ultimate_collider,1.5+.07*s,!0,.1,i[s],t,15);this.setUpEffCollider(this.ultimate_collider,3.8,!0,.1,cc.v3(251,168),t,40)}},e.prototype.setUpEffCollider=function(t,e,o,n,i,s,c){void 0===n&&(n=null),void 0===i&&(i=cc.v3()),o?(t.unscheduleAllCallbacks(),t.node.getComponent(a.default).hero=s.node,t.node.getComponent(a.default).damage=c,this.scheduleOnce(function(){t.offset=i,t.node.active=!0,t.enabled=!0},e*s.getRatioTimeScale()),n&&this.scheduleOnce(function(){t.node.active=!1,t.enabled=!1},(e+n)*s.getRatioTimeScale())):(t.node.active=!1,t.enabled=!1)},s([h(cc.CircleCollider)],e.prototype,"ultimate_collider",void 0),s([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./Constant":"Constant","./Hero/HeroListener":"HeroListener"}],EnemyListener:[function(t,e,o){"use strict";cc._RF.push(e,"b1fb9F6djdGhohF4w4IQvfz","EnemyListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Hero/HeroListener"),a=t("../Hero/Hero"),r=t("./Enemy"),l=t("../Constant"),h=cc._decorator,p=h.ccclass,d=h.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemy=null,e.className=null,e.damage=0,e}return i(e,t),e.prototype.onLoad=function(){this.className=this.__classname__},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t,e){this.checkPvE(t,e)},e.prototype.checkPvE=function(t,e){if(e.node.getComponent(this.className)&&t.node.getComponent(c.default)||e.node.getComponent(c.default)&&t.node.getComponent(this.className)){var o=e.node.getComponent(this.className)?e.node.getComponent(this.className):t.node.getComponent(this.className),n=e.node.getComponent(c.default)?e.node.getComponent(c.default):t.node.getComponent(c.default),i=n.hero.getComponent(a.default),s=o.enemy.getComponent(r.default);"range_collider"==o.node.name&&"body_collider"==n.node.name&&cc.Canvas.instance.node.emit(l.Constant.EVENT.ENEMY_MEET_PLAYER,s);var h=i.colliderNameArr;"body_collider"==o.node.name&&-1!==h.indexOf(n.node.name)&&cc.Canvas.instance.node.emit(l.Constant.EVENT.ENEMY_ATTACKED,s,n.damage)}},s([d(cc.Node)],e.prototype,"enemy",void 0),s([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Constant":"Constant","../Hero/Hero":"Hero","../Hero/HeroListener":"HeroListener","./Enemy":"Enemy"}],Enemy:[function(t,e,o){"use strict";cc._RF.push(e,"0f974hm2v9K1aNybpb9/Lqi","Enemy");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Constant"),a=t("./EnemyListener"),r=cc._decorator,l=r.ccclass,h=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.blood_skeleton=null,e.body_collider=null,e.range_collider=null,e.bloodLabel=null,e.max_blood=0,e.blood=0,e.type=null,e.strAnimCurrent="",e.isDie=!1,e.isRun=!1,e.timeScale=1,e.colliderAtkArr=[],e.colliderNameArr=[],e.countAtk=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initEnemy=function(t){this.type=t,this.range_collider.enabled=!0,this.max_blood=t.BLOOD,this.blood=t.BLOOD,this.setBlood(),this.checkAction(),this.addEventListener()},e.prototype.addEventListener=function(){var t=this;cc.Canvas.instance.node.on(c.Constant.EVENT.ENEMY_MEET_PLAYER,this.onMeetPlayer,this),cc.Canvas.instance.node.on(c.Constant.EVENT.ENEMY_ATTACKED,this.onAttacked,this);var e=this.type;this.skeleton.setMix(e.RUN,e.IDLE,.01),this.skeleton.setMix(e.IDLE,e.RUN,.01),this.skeleton.setCompleteListener(function(o){var n=o.animation?o.animation.name:"";n==e.RUN&&(t.isRun||t.changeAnimation(0,e.IDLE,!0)),-1!==e.ATTACK.indexOf(n)&&(t.enableCollider(n,!1),t.checkAction(),t.setTimeScale(1)),n==e.GET_HURT&&t.checkAction(),n==e.DIE&&(cc.Canvas.instance.node.emit(c.Constant.EVENT.COUNT_ENEMY_DIE),t.node.active=!1)})},e.prototype.removeEventListener=function(){cc.Canvas.instance.node.off(c.Constant.EVENT.ENEMY_MEET_PLAYER,this.onMeetPlayer,this),cc.Canvas.instance.node.off(c.Constant.EVENT.ENEMY_ATTACKED,this.onAttacked,this),this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.range_collider.enabled=!1},e.prototype.onAttacked=function(t,e){void 0===e&&(e=0),this.isDie||t!==this||(this.blood-=e,this.changeAnimationBlood(0,"bl2",!1),this.setTimeScale(1),this.blood<=0?(this.body_collider.enabled=!1,this.removeEventListener(),this.enableCollider(this.skeleton.animation,!1),this.isDie=!0,this.changeAnimation(0,this.type.DIE,!1)):(this.setBlood(),this.isDie||this.checkGetHurt()||(this.disableAtkCollider(),this.node.stopAllActions(),this.changeAnimation(0,this.type.GET_HURT,!1))))},e.prototype.onMeetPlayer=function(t){this.checkValid()&&t==this&&(this.node.stopAllActions(),this.checkAction())},e.prototype.checkAction=function(){var t=this;this.unscheduleAllCallbacks();var e=this.getHeroTarget();e?(this.changeAnimation(0,this.type.IDLE,!0),this.scheduleOnce(function(){t.checkValid()&&(cc.Intersection.polygonPolygon(t.range_collider.world.points,e.body_collider.world.points)?t.attack():t.run())},.3)):this.changeAnimation(0,this.type.IDLE,!0)},e.prototype.attack=function(){var t=this.type,e=this.getHeroTarget();if(e){this.setTimeScale(t.ATK_TIMESCALE);var o=e.node.position,n=this.node.position,i=Math.abs(this.node.scaleX);this.node.scaleX=n.x>o.x?i:-i,this.changeAnimation(0,t.ATTACK[this.countAtk],!1),this.countAtk++,this.countAtk==t.ATTACK.length&&(this.countAtk=0)}else this.changeAnimation(0,t.IDLE,!0)},e.prototype.run=function(){var t=this;cc.tween(this.node).stop();var e=this.type,o=this.getHeroTarget();if(o){this.isRun=!0,this.changeAnimation(0,e.RUN,!0);var n=o.node.position,i=this.node.position,s=Math.abs(this.node.scaleX);this.node.scaleX=i.x>n.x?s:-s,this.setBlood();var c=this.getDistanceHeroVsEnemy(n)/e.SPEED;cc.tween(this.node).to(c,{x:n.x}).call(function(){t.isRun=!1,t.changeAnimation(0,t.type.IDLE,!0),t.checkAction()}).start()}else this.changeAnimation(0,e.IDLE,!0)},e.prototype.checkValid=function(){return!(this.isDie||this.checkGetHurt()||this.checkAttack())},e.prototype.checkGetHurt=function(){return this.skeleton.animation==this.type.GET_HURT},e.prototype.checkAttack=function(){return-1!==this.type.ATTACK.indexOf(this.skeleton.animation)},e.prototype.getHeroTarget=function(){var t=cc.Global.HERO_ARR.filter(function(t){if(!t.isDie)return t});if(t.length>1){for(var e=t[0],o=this.getDistanceHeroVsEnemy(e.node.position),n=1;n<t.length;n++)o>this.getDistanceHeroVsEnemy(t[n].node.position)&&(e=t[n]);return e}return 1==t.length?t[0]:null},e.prototype.getDistanceHeroVsEnemy=function(t){return t.sub(this.node.position).mag()},e.prototype.changeAnimation=function(t,e,o){e!==this.strAnimCurrent&&(this.skeleton.setAnimation(t,e,o),this.strAnimCurrent=e,this.enableCollider(e,!0))},e.prototype.changeAnimationBlood=function(t,e,o){this.blood_skeleton.setAnimation(t,e,o)},e.prototype.enableCollider=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1)},e.prototype.disableAtkCollider=function(){for(var t=this.colliderAtkArr,e=0;e<t.length;e++)t[e].enabled=!1,t[e].unscheduleAllCallbacks()},e.prototype.setUpCollider=function(t,e,o,n){void 0===n&&(n=null),o?(t.unscheduleAllCallbacks(),t.scheduleOnce(function(){t.enabled=!0},e*this.getRatioTimeScale()),n&&t.scheduleOnce(function(){t.enabled=!1},(e+n)*this.getRatioTimeScale())):t.enabled=!1},e.prototype.setTimeScale=function(t){this.timeScale=t,this.skeleton.timeScale=t},e.prototype.getRatioTimeScale=function(){return 1/this.timeScale},e.prototype.setDamage=function(t,e){t.node.getComponent(a.default).damage=e},e.prototype.setBlood=function(){this.bloodLabel.string=String(this.blood),this.bloodLabel.node.scaleX=this.node.scaleX>0?Math.abs(this.bloodLabel.node.scaleX):-Math.abs(this.bloodLabel.node.scaleX)},s([h(sp.Skeleton)],e.prototype,"skeleton",void 0),s([h(sp.Skeleton)],e.prototype,"blood_skeleton",void 0),s([h(cc.PolygonCollider)],e.prototype,"body_collider",void 0),s([h(cc.PolygonCollider)],e.prototype,"range_collider",void 0),s([h(cc.Label)],e.prototype,"bloodLabel",void 0),s([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Constant":"Constant","./EnemyListener":"EnemyListener"}],Gameplay_25:[function(t,e,o){"use strict";cc._RF.push(e,"a78b8OMYRRLiKsHpnpR9ld/","Gameplay_25");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Constant"),a=t("../Hero/Hero"),r=t("../Enemy/Enemy"),l=cc._decorator,h=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game=null,e.veloraPrefab=null,e.kazetsuPrefab=null,e.runnerPrefab=null,e.swordPrefab=null,e.centaurPrefab=null,e.endGame=null,e.giftcode=null,e.shadow=null,e.btnVeloraAtk=null,e.btnKazetsuAtk=null,e.btnKazetsuSkill=null,e.btnVeloraSkill=null,e.txt_click_atk=null,e.countDown=null,e.countDownImgArr=[],e.posY=-124,e.totalEnemy=0,e.countEnemy=0,e.countHero=0,e.isEndGame=!1,e.isPhase2Guide=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.Canvas.instance.node.on(c.Constant.EVENT.COUNT_ENEMY_DIE,this.countEnemyDie,this),cc.Canvas.instance.node.on(c.Constant.EVENT.COUNT_HERO_DIE,this.countHeroDie,this)},e.prototype.start=function(){var t=this;this.endGame.active=!1,this.btnKazetsuAtk.active=!1,this.btnVeloraAtk.active=!1,this.btnKazetsuSkill.active=!1,this.btnVeloraSkill.active=!1,this.txt_click_atk.opacity=0,this.summonHero(c.HERO.VELORA),this.scheduleOnce(function(){t.summonHero(c.HERO.KAZETSU)},2),this.scheduleOnce(function(){t.showGuide()},3)},e.prototype.showWarning=function(){this.shadow.color=cc.Color.RED,cc.tween(this.shadow)},e.prototype.onCountDown=function(){var t=this;cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.FIGHT),this.countDown.active=!0;var e=this.countDown.getChildByName("text"),o=e.getComponent(cc.Sprite),n=0,i=e.scale;cc.tween(e).repeat(4,cc.tween(e).call(function(){e.scale=i,o.spriteFrame=t.countDownImgArr[n],n++}).by(.7,{scale:.4})).delay(.5).call(function(){t.countDown.active=!1,t.createListEnemy()}).start()},e.prototype.showGuide=function(){var t=this,e=cc.tween,o=this.getHero(c.HERO.VELORA),n=this.getHero(c.HERO.KAZETSU);this.isPhase2Guide?(o.zIndex=10,n.zIndex=30,this.shadow.zIndex=20,e(this.btnKazetsuAtk).set({active:!0,opacity:0}).to(.5,{opacity:255}).start(),e(this.btnKazetsuSkill).set({active:!0,opacity:0}).to(.5,{opacity:255}).start(),this.btnVeloraAtk.getChildByName("hand").active=!1,this.btnKazetsuAtk.getChildByName("hand").active=!0,cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.KAZETSU),this.scheduleOnce(function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.KAZETSU)},.5),this.scheduleOnce(function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.KAZETSU)},.8),this.scheduleOnce(function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.KAZETSU)},1.2),this.scheduleOnce(function(){t.btnKazetsuAtk.getChildByName("circle").active=!1,t.btnKazetsuSkill.getChildByName("circle").active=!1,e(t.shadow).to(.5,{opacity:0}).call(function(){t.shadow.active=!1}).start(),t.btnKazetsuAtk.getChildByName("hand").active=!1,e(t.txt_click_atk).to(.5,{opacity:0}).call(function(){t.txt_click_atk.active=!1,t.onCountDown()}).start()},2.5)):(e(this.shadow).set({opacity:0}).to(.5,{opacity:150}).start(),o.zIndex=30,n.zIndex=10,this.shadow.zIndex=20,e(this.btnVeloraAtk).set({active:!0,opacity:0}).to(.5,{opacity:255}).start(),e(this.btnVeloraSkill).set({active:!0,opacity:0}).to(.5,{opacity:255}).start(),this.btnVeloraAtk.getChildByName("hand").active=!0,e(this.txt_click_atk).to(.5,{opacity:255}).start(),cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.VELORA),this.scheduleOnce(function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.VELORA)},.5),this.scheduleOnce(function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.VELORA)},1),this.scheduleOnce(function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.VELORA)},1.2),this.scheduleOnce(function(){t.isPhase2Guide=!0,t.btnVeloraAtk.getChildByName("circle").active=!1,t.btnVeloraSkill.getChildByName("circle").active=!1,t.showGuide()},2.5))},e.prototype.getHero=function(t){for(var e=cc.Global.HERO_ARR,o=0;o<e.length;o++)if(e[o].type==t)return e[o].node;return null},e.prototype.fixSizeGiftCode=function(){var t=cc.winSize;this.giftcode.width=t.width,this.giftcode.height=t.height},e.prototype.countEnemyDie=function(){this.countEnemy++,this.countEnemy==this.totalEnemy&&this.onEndGame(!0)},e.prototype.countHeroDie=function(){this.countHero++,2==this.countHero&&this.onEndGame(!0)},e.prototype.onEndGame=function(){this.isEndGame||(cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.END),this.isEndGame=!0,this.endGame.active=!0,cc.tween(this.giftcode).set({scaleY:0}).to(.3,{scaleY:1}).start())},e.prototype.createListEnemy=function(){var t=this;cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.ENEMY_AWAKE);for(var e=c.MAP.MAP_1,o=function(o){var i=e[o];n.scheduleOnce(function(){t.summonEnemy(i.TYPE).node.setPosition(cc.v3(i.POS_X*i.DIRECTION,t.posY))},i.SPAWN_TIME)},n=this,i=0;i<e.length;i++)o(i);this.totalEnemy=e.length},e.prototype.summonHero=function(t){var e=cc.instantiate(this.getPrefab(t));this.game.addChild(e);var o=e.getComponent(a.default);return o.initHero(t),cc.Global.HERO_ARR.push(o),o},e.prototype.summonEnemy=function(t){var e=cc.instantiate(this.getPrefab(t));this.game.addChild(e);var o=e.getComponent(r.default);return o.initEnemy(t),o},e.prototype.getPrefab=function(t){switch(t){case c.HERO.VELORA:return this.veloraPrefab;case c.HERO.KAZETSU:return this.kazetsuPrefab;case c.ENEMY.RUNNER:return this.runnerPrefab;case c.ENEMY.SWORD:return this.swordPrefab;case c.ENEMY.CENTAUR:return this.centaurPrefab}},e.prototype.onBtnVeloraAtk=function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.VELORA)},e.prototype.onBtnKazetsuAtk=function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_ATTACK,c.HERO.KAZETSU)},e.prototype.onBtnVeloraSkill=function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_SKILL,c.HERO.VELORA)},e.prototype.onBtnKazetsuSkill=function(){cc.Canvas.instance.node.emit(c.Constant.EVENT.HERO_SKILL,c.HERO.KAZETSU)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.onBtnKazetsuAtk();break;case cc.macro.KEY.d:this.onBtnVeloraAtk();break;case cc.macro.KEY.s:this.onBtnKazetsuSkill();break;case cc.macro.KEY.f:this.onBtnVeloraSkill()}},s([p(cc.Node)],e.prototype,"game",void 0),s([p(cc.Prefab)],e.prototype,"veloraPrefab",void 0),s([p(cc.Prefab)],e.prototype,"kazetsuPrefab",void 0),s([p(cc.Prefab)],e.prototype,"runnerPrefab",void 0),s([p(cc.Prefab)],e.prototype,"swordPrefab",void 0),s([p(cc.Prefab)],e.prototype,"centaurPrefab",void 0),s([p(cc.Node)],e.prototype,"endGame",void 0),s([p(cc.Node)],e.prototype,"giftcode",void 0),s([p(cc.Node)],e.prototype,"shadow",void 0),s([p(cc.Node)],e.prototype,"btnVeloraAtk",void 0),s([p(cc.Node)],e.prototype,"btnKazetsuAtk",void 0),s([p(cc.Node)],e.prototype,"btnKazetsuSkill",void 0),s([p(cc.Node)],e.prototype,"btnVeloraSkill",void 0),s([p(cc.Node)],e.prototype,"txt_click_atk",void 0),s([p(cc.Node)],e.prototype,"countDown",void 0),s([p(cc.SpriteFrame)],e.prototype,"countDownImgArr",void 0),s([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Constant":"Constant","../Enemy/Enemy":"Enemy","../Hero/Hero":"Hero"}],Gameplay_28:[function(t,e,o){"use strict";cc._RF.push(e,"a6534if37lB8ZvVATtdKs+b","Gameplay_28");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Constant"),a=t("../Hero/Hero"),r=cc._decorator,l=r.ccclass,h=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.game=null,e.bridge=null,e.veloraPrefab=null,e.kazetsuPrefab=null,e.ashleyPrefab=null,e.runnerPrefab=null,e.swordPrefab=null,e.centaurPrefab=null,e.blood_1=null,e.blood_2=null,e.chooseHero=null,e.hand=null,e.eff_click=null,e.countDown=null,e.countDownImgArr=[],e.ava_1=null,e.ava_2=null,e.ava_image_1=null,e.ava_image_2=null,e.btn_skill_1=null,e.btn_skill_2=null,e.btn_skill_3=null,e.btn_skill_4=null,e.btn_skill_5=null,e.btn_skill_1_frame_1=null,e.btn_skill_1_frame_2=null,e.btn_skill_2_frame_1=null,e.btn_skill_2_frame_2=null,e.btn_skill_3_frame_1=null,e.btn_skill_3_frame_2=null,e.btn_skill_4_frame_1=null,e.btn_skill_4_frame_2=null,e.btn_skill_5_frame_1=null,e.btn_skill_5_frame_2=null,e.guide_joystick=null,e.guide_atk=null,e.guide_jump=null,e.guide_skill_1=null,e.guide_skill_2=null,e.guide_skill_3=null,e.joystick_icon=null,e.endGame=null,e.linkToStore=null,e.logo=null,e.infor=null,e.canvas=null,e.global=null,e.isEndGame=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.Global.MODE_PVP=!0,cc.Global.GAME_MANAGER=this,cc.director.getCollisionManager().enabled=!0,this.global=cc.Global,this.canvas=cc.Canvas.instance.node,this.addEventListener()},e.prototype.start=function(){this.chooseHero.active=!0,this.hand.active=!0,this.countDown.active=!1,this.guide_joystick.active=!1,this.guide_atk.active=!1,this.guide_jump.active=!1,this.guide_skill_1.active=!1,this.guide_skill_2.active=!1,this.guide_skill_3.active=!1,this.linkToStore.active=!1,this.logo.active=!0,this.showHandChooseHero(),this.checkScreenSize()},e.prototype.checkScreenSize=function(){var t=cc.view.getFrameSize();t.width>t.height&&t.width/t.height<2&&(this.logo.y+=50,this.infor.y+=50)},e.prototype.addEventListener=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.canvas.on(c.Constant.EVENT.SET_BLOOD_HERO,this.setBloodHero,this),this.canvas.on(c.Constant.EVENT.END_GAME,this.onEndGame,this)},e.prototype.onEndGame=function(t){var e=this;if(!this.isEndGame)if(this.logo.active=!0,this.isEndGame=!0,cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.END),this.endGame.getChildByName("win_chest").active=!!t,this.endGame.getChildByName("lose").active=!t,t)cc.tween(this.endGame).set({active:!0,scale:0}).to(.5,{scale:1}).call(function(){e.linkToStore.active=!0}).start();else{var o=this.endGame.position;cc.tween(this.endGame).set({active:!0,opacity:0,position:o.add(cc.v3(0,400))}).to(.5,{opacity:255,position:o}).call(function(){e.linkToStore.active=!0}).start()}},e.prototype.showHandChooseHero=function(){this.hand.getChildByName("icon").zIndex=cc.macro.MAX_ZINDEX;var t=this.chooseHero.getChildByName("hell"),e=this.chooseHero.getChildByName("god"),o=t.position.add(cc.v3(-20,180)),n=e.position.add(cc.v3(0,180)),i=cc.v3(10,-10),s=t.scale,c=function(){var t=cc.instantiate(this.eff_click);t.setPosition(t.position.add(cc.v3(-10,10))),this.hand.addChild(t)}.bind(this);cc.tween(this.hand).repeatForever(cc.tween().repeat(2,cc.tween().set({position:o.add(i)}).to(.3,{scale:.8,position:o}).call(c).to(.3,{scale:1,position:o.add(i)})).repeat(2,cc.tween().set({position:n.add(i)}).to(.3,{scale:.8,position:n}).call(c).to(.3,{scale:1,position:n.add(i)}))).start(),cc.tween(t).repeatForever(cc.tween().repeat(2,cc.tween().to(.3,{scale:s+.1}).to(.3,{scale:s})).delay(1.2)).start(),cc.tween(e).repeatForever(cc.tween().delay(1.2).repeat(2,cc.tween().to(.3,{scaleX:-s-.1,scaleY:s+.1}).to(.3,{scaleX:-s,scaleY:s}))).start()},e.prototype.onChooseHero1=function(){this.playModePVP(this.global.HERO_1,this.global.HERO_2)},e.prototype.onChooseHero2=function(){this.playModePVP(this.global.HERO_2,this.global.HERO_1)},e.prototype.showGuide=function(){var t=this;this.guide_joystick.active=!0;var e=this.guide_joystick.getChildByName("anim"),o=e.position;this.joystick_icon.opacity=0,cc.tween(e).repeat(3,cc.tween(e).set({position:o}).by(.5,{position:cc.v3(40)}).delay(.3)).call(function(){t.guide_joystick.active=!1,t.joystick_icon.opacity=255}).start(),cc.tween(this.guide_atk).delay(2.4).set({active:!0}).delay(2).call(function(){t.guide_atk.active=!1}).start(),cc.tween(this.guide_jump).delay(6.4).set({active:!0}).delay(2).call(function(){t.guide_jump.active=!1}).start(),cc.tween(this.guide_skill_1).delay(4.4).set({active:!0}).delay(2).call(function(){t.guide_skill_1.active=!1}).start(),cc.tween(this.guide_skill_2).delay(4.4).set({active:!0}).delay(2).call(function(){t.guide_skill_2.active=!1}).start(),cc.tween(this.guide_skill_3).delay(4.4).set({active:!0}).delay(2).call(function(){t.guide_skill_3.active=!1}).start()},e.prototype.setBloodHero=function(t,e,o){t?this.blood_1.fillRange=o/e:this.blood_2.fillRange=o/e},e.prototype.playModePVP=function(t,e){this.unscheduleAllCallbacks(),cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.CLICK),this.logo.active=!1,this.chooseHero.active=!1,this.hand.active=!1,this.hand.stopAllActions(),this.onCountDown(),this.global.PLAYER=this.summonHero(t),this.global.OPPONENT=this.summonHero(e),this.global.PLAYER.initHero(t),this.global.OPPONENT.initHero(e),this.global.PLAYER.node.position=cc.v3(-400,this.bridge.y),this.global.OPPONENT.node.position=cc.v3(400,this.bridge.y),this.setAvaHero(t)},e.prototype.setAvaHero=function(t){this.ava_1.spriteFrame=t==this.global.HERO_1?this.ava_image_1:this.ava_image_2,this.ava_2.spriteFrame=t==this.global.HERO_1?this.ava_image_2:this.ava_image_1,this.btn_skill_1.spriteFrame=t==this.global.HERO_1?this.btn_skill_1_frame_1:this.btn_skill_1_frame_2,this.btn_skill_2.spriteFrame=t==this.global.HERO_1?this.btn_skill_2_frame_1:this.btn_skill_2_frame_2,this.btn_skill_3.spriteFrame=t==this.global.HERO_1?this.btn_skill_3_frame_1:this.btn_skill_3_frame_2,this.btn_skill_4.spriteFrame=t==this.global.HERO_1?this.btn_skill_4_frame_1:this.btn_skill_4_frame_2,this.btn_skill_5.spriteFrame=t==this.global.HERO_1?this.btn_skill_5_frame_1:this.btn_skill_5_frame_2},e.prototype.onCountDown=function(){var t=this;cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.FIGHT),this.countDown.active=!0;var e=this.countDown.getChildByName("text"),o=e.getComponent(cc.Sprite),n=0,i=e.scale;cc.tween(e).repeat(4,cc.tween(e).call(function(){e.scale=i,o.spriteFrame=t.countDownImgArr[n],n++}).by(.7,{scale:.4})).delay(.5).call(function(){t.countDown.active=!1,cc.Canvas.instance.node.emit(c.Constant.EVENT.START_GAME),t.showGuide()}).start()},e.prototype.summonHero=function(t){var e=cc.instantiate(this.getPrefab(t));return this.game.addChild(e),e.getComponent(a.default)},e.prototype.getPrefab=function(t){switch(t){case c.HERO.ASHLEY:return this.ashleyPrefab;case c.HERO.VELORA:return this.veloraPrefab;case c.HERO.KAZETSU:return this.kazetsuPrefab;case c.ENEMY.RUNNER:return this.runnerPrefab;case c.ENEMY.SWORD:return this.swordPrefab;case c.ENEMY.CENTAUR:return this.centaurPrefab}},e.prototype.onBtnAtk=function(){this.canvas.emit(c.Constant.EVENT.HERO_ATTACK)},e.prototype.onBtnJump=function(){this.canvas.emit(c.Constant.EVENT.HERO_JUMP)},e.prototype.onBtnSkill1=function(){this.canvas.emit(c.Constant.EVENT.HERO_SKILL,0)},e.prototype.onBtnSkill2=function(){this.canvas.emit(c.Constant.EVENT.HERO_SKILL,1)},e.prototype.onBtnSkill3=function(){this.canvas.emit(c.Constant.EVENT.HERO_SKILL,2)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.onBtnAtk();break;case cc.macro.KEY.space:this.onBtnJump();break;case cc.macro.KEY.q:this.onBtnSkill1();break;case cc.macro.KEY.w:this.onBtnSkill2();break;case cc.macro.KEY.e:this.onBtnSkill3()}},s([h(cc.Node)],e.prototype,"game",void 0),s([h(cc.Node)],e.prototype,"bridge",void 0),s([h(cc.Prefab)],e.prototype,"veloraPrefab",void 0),s([h(cc.Prefab)],e.prototype,"kazetsuPrefab",void 0),s([h(cc.Prefab)],e.prototype,"ashleyPrefab",void 0),s([h(cc.Prefab)],e.prototype,"runnerPrefab",void 0),s([h(cc.Prefab)],e.prototype,"swordPrefab",void 0),s([h(cc.Prefab)],e.prototype,"centaurPrefab",void 0),s([h(cc.Sprite)],e.prototype,"blood_1",void 0),s([h(cc.Sprite)],e.prototype,"blood_2",void 0),s([h(cc.Node)],e.prototype,"chooseHero",void 0),s([h(cc.Node)],e.prototype,"hand",void 0),s([h(cc.Prefab)],e.prototype,"eff_click",void 0),s([h(cc.Node)],e.prototype,"countDown",void 0),s([h(cc.SpriteFrame)],e.prototype,"countDownImgArr",void 0),s([h(cc.Sprite)],e.prototype,"ava_1",void 0),s([h(cc.Sprite)],e.prototype,"ava_2",void 0),s([h(cc.SpriteFrame)],e.prototype,"ava_image_1",void 0),s([h(cc.SpriteFrame)],e.prototype,"ava_image_2",void 0),s([h(cc.Sprite)],e.prototype,"btn_skill_1",void 0),s([h(cc.Sprite)],e.prototype,"btn_skill_2",void 0),s([h(cc.Sprite)],e.prototype,"btn_skill_3",void 0),s([h(cc.Sprite)],e.prototype,"btn_skill_4",void 0),s([h(cc.Sprite)],e.prototype,"btn_skill_5",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_1_frame_1",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_1_frame_2",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_2_frame_1",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_2_frame_2",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_3_frame_1",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_3_frame_2",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_4_frame_1",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_4_frame_2",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_5_frame_1",void 0),s([h(cc.SpriteFrame)],e.prototype,"btn_skill_5_frame_2",void 0),s([h(cc.Node)],e.prototype,"guide_joystick",void 0),s([h(cc.Node)],e.prototype,"guide_atk",void 0),s([h(cc.Node)],e.prototype,"guide_jump",void 0),s([h(cc.Node)],e.prototype,"guide_skill_1",void 0),s([h(cc.Node)],e.prototype,"guide_skill_2",void 0),s([h(cc.Node)],e.prototype,"guide_skill_3",void 0),s([h(cc.Node)],e.prototype,"joystick_icon",void 0),s([h(cc.Node)],e.prototype,"endGame",void 0),s([h(cc.Node)],e.prototype,"linkToStore",void 0),s([h(cc.Node)],e.prototype,"logo",void 0),s([h(cc.Node)],e.prototype,"infor",void 0),s([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Constant":"Constant","../Hero/Hero":"Hero"}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"0099ah+0HFAdYoSr6yIb7oV","Global"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Constant"),i={PLAYER:null,OPPONENT:null,MODE_PVP:!1,GAME_MANAGER:"",END_GAME:"",HERO_ARR:[],JOYSTICK:null,END_TOUCH:!1,HERO_1:n.HERO.VELORA,HERO_2:n.HERO.ASHLEY,getDataByName:function(t,e){for(var o=0;o<t.length;o++)if(t[o]&&t[o].name==e)return t[o];return null}};cc.Global=i,cc._RF.pop()},{"../Constant":"Constant"}],GroundListener:[function(t,e,o){"use strict";cc._RF.push(e,"62138C4JvJIj7QOOREdSll1","GroundListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,r=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},s([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],HeroListener:[function(t,e,o){"use strict";cc._RF.push(e,"bc906aN6WFBZ7M2HCwl8hs4","HeroListener");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Enemy/EnemyListener"),a=t("../GroundListener"),r=t("../Enemy/Enemy"),l=t("../Constant"),h=t("./Hero"),p=cc._decorator,d=p.ccclass,u=p.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hero=null,e.className=null,e.damage=0,e.isExplode=!1,e}return i(e,t),e.prototype.onLoad=function(){this.className=this.__classname__},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t,e){this.checkPvP(t,e),this.checkPvE(t,e),this.checkBullet(t,e)},e.prototype.checkPvP=function(t,e){var o=e.node.getComponent(this.className),n=t.node.getComponent(this.className);if(o&&n){var i=o.hero.getComponent(h.default),s=n.hero.getComponent(h.default);i!==s&&("body_collider"==e.node.name&&-1!==s.colliderNameArr.indexOf(t.node.name)&&(cc.Canvas.instance.node.emit(l.Constant.EVENT.HERO_ATTACKED,s,n.damage),n.isExplode&&(t.node.destroy(),cc.Canvas.instance.node.emit(l.Constant.EVENT.BULLET_EXPLODE,s.node,i))),"range_collider"==e.node.name&&"body_collider"==t.node.name&&cc.Canvas.instance.node.emit(l.Constant.EVENT.OPPONENT_MEET_PLAYER))}},e.prototype.checkPvE=function(t,e){if(e.node.getComponent(this.className)&&t.node.getComponent(c.default)||e.node.getComponent(c.default)&&t.node.getComponent(this.className)){var o=e.node.getComponent(this.className)?e.node.getComponent(this.className):t.node.getComponent(this.className),n=e.node.getComponent(c.default)?e.node.getComponent(c.default):t.node.getComponent(c.default),i=o.hero.getComponent(h.default),s=(n.enemy.getComponent(r.default),n.enemy.getComponent(r.default).colliderNameArr);"body_collider"==o.node.name&&-1!==s.indexOf(n.node.name)&&(n.enemy.getComponent(r.default),cc.Canvas.instance.node.emit(l.Constant.EVENT.HERO_ATTACKED,i,n.damage))}},e.prototype.checkBullet=function(t,e){if(e.node.getComponent(this.className)&&t.node.getComponent(a.default)||e.node.getComponent(a.default)&&t.node.getComponent(this.className)){var o=e.node.getComponent(this.className)?e.node.getComponent(this.className):t.node.getComponent(this.className);(e.node.getComponent(a.default)?e.node.getComponent(a.default):t.node.getComponent(a.default))&&o.isExplode&&(cc.Canvas.instance.node.emit(l.Constant.EVENT.BULLET_EXPLODE,o.hero,null,o.node.position),o.node.destroy())}},e.prototype.onCollisionExit=function(){},s([u(cc.Node)],e.prototype,"hero",void 0),s([d],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../Constant":"Constant","../Enemy/Enemy":"Enemy","../Enemy/EnemyListener":"EnemyListener","../GroundListener":"GroundListener","./Hero":"Hero"}],Hero:[function(t,e,o){"use strict";cc._RF.push(e,"71846pISbBP3Ls5R4gCffp9","Hero");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Constant"),a=t("./HeroListener"),r=t("../effect"),l=t("../Efx"),h=cc._decorator,p=h.ccclass,d=h.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.blood_skeleton=null,e.body_collider=null,e.effect=null,e.efxPrefab=null,e.bloodLabel=null,e.range_collider=null,e.signal=null,e.bloodPrefab=null,e.strAnimCurrent="",e.type=null,e.timeScale=1,e.isNextAttack=!1,e.animAttackArr=[],e.colliderNameArr=[],e.animSkillArr=[],e.animJumpArr=["jump_start","jump_middle","jump_end"],e.max_blood=0,e.blood=0,e.isDie=!1,e.isRun=!1,e.isStop=!1,e.countSkill=0,e.global=null,e.canvas=null,e.colorSchedule=null,e.countOpponentAction=0,e}return i(e,t),e.prototype.onLoad=function(){this.canvas=cc.Canvas.instance.node,this.global=cc.Global,this.addEventListener()},e.prototype.initHero=function(t){this.type=t,this.range_collider.enabled=!1,this.max_blood=t.BLOOD,this.blood=t.BLOOD,this.setBlood(),this.onAppear(),this.checkOpponent()},e.prototype.addEventListener=function(){var t=this;this.type,this.canvas.on(c.Constant.EVENT.HERO_JUMP,this.onJump,this),this.canvas.on(c.Constant.EVENT.HERO_RUN,this.onRun,this),this.canvas.on(c.Constant.EVENT.HERO_IDLE,this.onIdle,this),this.canvas.on(c.Constant.EVENT.HERO_ATTACK,this.onAttack,this),this.canvas.on(c.Constant.EVENT.HERO_ATTACKED,this.onAttacked,this),this.canvas.on(c.Constant.EVENT.HERO_SKILL,this.onSkill,this),this.canvas.on(c.Constant.EVENT.BULLET_EXPLODE,this.onBulletExplode,this),this.canvas.on(c.Constant.EVENT.HERO_SET_ZINDEX,this.onSetZIndex,this),this.canvas.on(c.Constant.EVENT.OPPONENT_MEET_PLAYER,this.onOpponentMeetPlayer,this),this.canvas.on(c.Constant.EVENT.START_GAME,this.onStartGame,this),this.skeleton.setCompleteListener(function(e){var o=e.animation?e.animation.name:"";if(-1!==t.animAttackArr.indexOf(o)&&t.checkNextAttack(o),"get_hurt"==o&&(cc.Global.OPPONENT!==t&&t.isRun?t.changeAnimation(0,"run",!0):t.changeAnimation(0,"idle",!0),t.checkOpponentAction()),"die"==o){t.node.active=!1;var n=t==cc.Global.OPPONENT;t.canvas.emit(c.Constant.EVENT.END_GAME,n)}"appear"==o&&(t.isStop=!1,t.changeAnimation(0,"idle",!0)),t.addCaseSkelListener(o)})},e.prototype.removeEventListener=function(){this.canvas.off(c.Constant.EVENT.HERO_RUN,this.onRun,this),this.canvas.off(c.Constant.EVENT.HERO_IDLE,this.onIdle,this),this.canvas.off(c.Constant.EVENT.HERO_ATTACK,this.onAttack,this),this.canvas.off(c.Constant.EVENT.HERO_JUMP,this.onJump,this),this.canvas.off(c.Constant.EVENT.HERO_SKILL,this.onSkill,this)},e.prototype.addCaseSkelListener=function(){},e.prototype.checkNextAttack=function(t){this.enableCollider(t,!1);var e=this.animAttackArr.indexOf(t);this.isNextAttack&&e!==this.animAttackArr.length-1&&(this.setTimeScale(this.type.ATK_TIMESCALE),this.changeAnimation(0,this.animAttackArr[e+1],!1),this.runEffect(),this.checkShoot(),this.canvas.emit(c.Constant.EVENT.HERO_SET_ZINDEX,this)),this.isNextAttack&&e!=this.animAttackArr.length-1||(this.setTimeScale(1),this.isRun?this.changeAnimation(0,"run",!0):this.changeAnimation(0,"idle",!0),this.checkOpponentAction()),this.isNextAttack=!1,cc.Global.OPPONENT==this&&(this.isNextAttack=!0)},e.prototype.onStartGame=function(){this.checkOpponentAction()},e.prototype.onSetZIndex=function(t){this.node.zIndex=t==this?c.Constant.ZINDEX.HERO:c.Constant.ZINDEX.OPPONENT},e.prototype.onBulletExplode=function(){},e.prototype.onAppear=function(){this.isStop=!0,this.changeAnimation(0,"appear",!1)},e.prototype.onJump=function(){var t=this;if(!this.isStop&&!this.isDie&&this.checkValid()){var e=cc.tween;this.changeAnimation(0,"jump_start",!1),e(this.node).by(.3,{y:150}).call(function(){t.changeAnimation(0,"jump_middle",!0)}).by(.3,{y:-150}).call(function(){t.isRun?t.changeAnimation(0,"run",!0):t.changeAnimation(0,"idle",!0)}).start()}},e.prototype.onRun=function(){this.isStop||this.isDie||(this.isRun=!0,this.checkValid()&&this.changeAnimation(0,"run",!0))},e.prototype.onIdle=function(){this.isStop||this.isDie||(this.isRun=!1,this.checkValid()&&this.changeAnimation(0,"idle",!0))},e.prototype.onAttacked=function(t,e){if(void 0===e&&(e=0),t!=this&&!this.isDie){this.blood-=e,this.changeAnimationBlood(0,"bl2",!1);var o=cc.Global.OPPONENT!=this;this.canvas.emit(c.Constant.EVENT.SET_BLOOD_HERO,o,this.max_blood,this.blood),this.showBlood(e),this.blood<=0?(this.unscheduleAllCallbacks(),this.isDie=!0,this.node.stopAllActions(),this.enableCollider(this.skeleton.animation,!1),this.changeAnimation(0,"die",!1),this.node.y=this.global.GAME_MANAGER.bridge.y):(this.setColor(),this.setBlood())}},e.prototype.onAttack=function(){this.isDie||this.checkGetHurt()||this.checkSkill()||this.checkJump()||(this.checkAttack()?this.isNextAttack=!0:(this.setTimeScale(this.type.ATK_TIMESCALE),this.changeAnimation(0,"attack_a",!1),this.canvas.emit(c.Constant.EVENT.HERO_SET_ZINDEX,this),this.runEffect(),this.checkShoot()))},e.prototype.onSkill=function(t){this.checkValid()&&(this.canvas.emit(c.Constant.EVENT.HERO_SET_ZINDEX,this),this.changeAnimation(0,this.animSkillArr[t],!1),this.runEffect(),this.action())},e.prototype.checkShoot=function(){},e.prototype.checkValid=function(){return!(this.isDie||this.checkGetHurt()||this.checkAttack()||this.checkSkill()||this.checkJump())},e.prototype.checkSkill=function(){return-1!==this.animSkillArr.indexOf(this.skeleton.animation)},e.prototype.checkJump=function(){return-1!==this.animJumpArr.indexOf(this.skeleton.animation)},e.prototype.checkGetHurt=function(){return"get_hurt"==this.skeleton.animation},e.prototype.checkAttack=function(){return-1!==this.animAttackArr.indexOf(this.skeleton.animation)},e.prototype.enableCollider=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1)},e.prototype.setDamage=function(t,e){t.node.getComponent(a.default).damage=e},e.prototype.changeAnimation=function(t,e,o){e!==this.strAnimCurrent&&(this.skeleton.setAnimation(t,e,o),this.strAnimCurrent=e,this.enableCollider(e,!0),this.playSound())},e.prototype.changeAnimationBlood=function(t,e,o){this.blood_skeleton.setAnimation(t,e,o)},e.prototype.setTimeScale=function(t){this.timeScale=t,this.skeleton.timeScale=t},e.prototype.getRatioTimeScale=function(){return 1/this.timeScale},e.prototype.setUpEffCollider=function(t,e,o,n){void 0===n&&(n=null),o?(t.unscheduleAllCallbacks(),t.scheduleOnce(function(){t.enabled=!0},e*this.getRatioTimeScale()),n&&t.scheduleOnce(function(){t.enabled=!1},(e+n)*this.getRatioTimeScale())):t.enabled=!1},e.prototype.playSound=function(){},e.prototype.runEffect=function(){},e.prototype.action=function(){},e.prototype.getDirectionParam=function(){return this.node.scaleX>0?1:-1},e.prototype.showEffect=function(t,e,o,n,i,s){var c=this;void 0===o&&(o=0),void 0===n&&(n=null),void 0===i&&(i=cc.v3()),void 0===s&&(s=0),this.scheduleOnce(function(){var o=cc.instantiate(c.effect);e.addChild(o),o.getComponent(r.default).play(t,n,i),o.angle=s},o)},e.prototype.setColor=function(){var t=this;this.node.color=cc.Color.RED,this.body_collider.unschedule(this.colorSchedule),this.colorSchedule=this.body_collider.scheduleOnce(function(){t.node.color=cc.Color.WHITE},.5)},e.prototype.setBlood=function(){this.bloodLabel.string=String(this.blood),this.bloodLabel.node.scaleX=this.node.scaleX>0?Math.abs(this.bloodLabel.node.scaleX):-Math.abs(this.bloodLabel.node.scaleX)},e.prototype.createEfx=function(t,e,o,n,i,s,a,r,h){var p=this;void 0===e&&(e=""),void 0===n&&(n=1),void 0===i&&(i=cc.v3()),void 0===s&&(s=1),void 0===a&&(a=0),void 0===r&&(r=0),void 0===h&&(h=0),this.scheduleOnce(function(){var r=p.node.scaleX>0?1:-1,d=cc.instantiate(p.efxPrefab);d.scale=n;var u=d.getComponent(sp.Skeleton);u.timeScale=s,u.defaultSkin=e,u.animation=t,d.setPosition(i),d.angle=a*r,o.addChild(d,c.Constant.ZINDEX.EFX),u.setCompleteListener(function(e){(e.animation?e.animation.name:"")==t&&d.destroy()}),d.getComponent(l.default).enableCollider(p,t,h)},r)},e.prototype.showBlood=function(t){if(0!=t){var e=cc.tween,o=cc.instantiate(this.bloodPrefab);this.node.parent.addChild(o,c.Constant.ZINDEX.BLOOD);var n=String(t).slice(0,1)+String(Math.floor(89999*Math.random())+1e4);o.getComponent(cc.Label).string="-"+n,o.position=this.node.position.add(cc.v3(0,200)),t>(this.type!==c.HERO.KAZETSU?110:70)?(o.scale=1.8,o.color=cc.Color.RED,o.getComponent(cc.Label).enableBold=!0,o.getComponent(cc.LabelOutline).color=cc.color(120,0,0),o.getComponent(cc.LabelOutline).width=2,e(o).by(.8,{y:100,scale:-.3}).call(function(){o.destroy()}).start()):e(o).by(.8,{y:100}).call(function(){o.destroy()}).start()}},e.prototype.checkOpponent=function(){cc.Global.MODE_PVP&&cc.Global.OPPONENT==this&&(this.removeEventListener(),this.node.scaleX=-Math.abs(this.node.scaleX),this.range_collider.enabled=!0,this.signal.active=!1)},e.prototype.checkOpponentAttack=function(){var t=cc.Global.PLAYER;if(t.isDie)this.changeAnimation(0,"idle",!0);else{this.isRun=!1,this.isNextAttack=!0;var e=t.node.position,o=this.node.position,n=Math.abs(this.node.scaleX);switch(this.node.scaleX=o.x>e.x?-n:n,this.countOpponentAction>3&&(this.countOpponentAction=0),this.countOpponentAction){case 0:this.onAttack();break;case 1:this.onSkill(0);break;case 2:this.onSkill(1);break;case 3:this.onSkill(2);break;default:this.onAttack()}this.countOpponentAction++}},e.prototype.checkOpponentAction=function(){var t=this;if(this===cc.Global.OPPONENT){this.unscheduleAllCallbacks();var e=cc.Global.PLAYER;e.isDie?this.changeAnimation(0,"idle",!0):this.scheduleOnce(function(){t.checkValid()&&(cc.Intersection.polygonPolygon(t.range_collider.world.points,e.body_collider.world.points)?t.checkOpponentAttack():t.opponentRun())},.3)}},e.prototype.opponentRun=function(){var t=this;cc.tween(this.node).stop();var e=cc.Global.PLAYER;this.isRun=!0,this.changeAnimation(0,"run",!0);var o=e.node.position,n=this.node.position,i=Math.abs(this.node.scaleX);this.node.scaleX=n.x>o.x?-i:i,this.setBlood();var s=o.sub(n).mag()/400;cc.tween(this.node).to(s,{position:cc.v2(o.x,n.y)}).call(function(){t.isRun=!1,t.changeAnimation(0,"idle",!0),t.checkOpponentAction()}).start()},e.prototype.onOpponentMeetPlayer=function(){cc.Global.OPPONENT==this&&this.checkValid()&&(this.node.stopAllActions(),this.checkOpponentAttack())},e.prototype.checkOutScreen=function(){this.node.x<-cc.winSize.width/2+50&&(this.node.x=-cc.winSize.width/2+50),this.node.x>cc.winSize.width/2-50&&(this.node.x=cc.winSize.width/2-50)},e.prototype.update=function(t){if(this.isRun&&cc.Global.OPPONENT!=this&&!this.checkGetHurt()&&!this.checkSkill()&&!this.isDie){var e=this.global.JOYSTICK.dir.x*t*500,o=Math.abs(this.node.scaleX);0===e||this.checkAttack()||this.checkSkill()||(this.node.scaleX=e>0?o:-o,e=this.node.scaleX>0?Math.abs(e):-Math.abs(e),this.node.x+=e,this.checkOutScreen())}},s([d(sp.Skeleton)],e.prototype,"skeleton",void 0),s([d(sp.Skeleton)],e.prototype,"blood_skeleton",void 0),s([d(cc.PolygonCollider)],e.prototype,"body_collider",void 0),s([d(cc.Prefab)],e.prototype,"effect",void 0),s([d(cc.Prefab)],e.prototype,"efxPrefab",void 0),s([d(cc.Label)],e.prototype,"bloodLabel",void 0),s([d(cc.PolygonCollider)],e.prototype,"range_collider",void 0),s([d(cc.Node)],e.prototype,"signal",void 0),s([d(cc.Prefab)],e.prototype,"bloodPrefab",void 0),s([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Constant":"Constant","../Efx":"Efx","../effect":"effect","./HeroListener":"HeroListener"}],Joystick:[function(t,e,o){"use strict";cc._RF.push(e,"cf763Lt+D9GmKQ5fVed4WGx","Joystick");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Constant"),a=cc._decorator,r=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Joystick=null,e.Max_r=100,e.startJoystickPos=null,e.global=null,e.canvas=null,e}return i(e,t),e.prototype.onLoad=function(){this.canvas=cc.Canvas.instance.node,this.global=cc.Global,this.global.JOYSTICK=this,this.startJoystickPos=this.node.parent.convertToWorldSpaceAR(this.node.position),this.Joystick.x=0,this.Joystick.y=0,this.dir=cc.v2(0,0),this.Joystick.on(cc.Node.EventType.TOUCH_START,function(t){this.global.END_TOUCH=!1;var e=t.getLocation(),o=e.x>this.startJoystickPos.x?1:-1,n=e.add(cc.v2(1e3*o)),i=this.node.convertToNodeSpaceAR(n),s=i.mag();this.dir.x=i.x/s,this.dir.y=i.y/s,s>this.Max_r&&(i.x=this.Max_r*i.x/s+20*o,i.y=this.Max_r*i.y/s),this.Joystick.setPosition(i),this.canvas.emit(c.Constant.EVENT.HERO_RUN)},this),this.Joystick.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.global.END_TOUCH=!1;var e=t.getLocation(),o=e.x>this.startJoystickPos.x?1:-1,n=e.add(cc.v2(1e3*o)),i=this.node.convertToNodeSpaceAR(n),s=i.mag();this.dir.x=i.x/s,this.dir.y=i.y/s,s>this.Max_r&&(i.x=this.Max_r*i.x/s+25*o,i.y=this.Max_r*i.y/s),this.Joystick.setPosition(i)},this),this.Joystick.on(cc.Node.EventType.TOUCH_END,function(){this.global.END_TOUCH=!0,this.Joystick.setPosition(cc.v2(0,0)),this.dir=cc.v2(0,0),this.canvas.emit(c.Constant.EVENT.HERO_IDLE)},this),this.Joystick.on(cc.Node.EventType.TOUCH_CANCEL,function(){this.global.END_TOUCH=!0,this.Joystick.setPosition(cc.v2(0,0)),this.dir=cc.v2(0,0),this.canvas.emit(c.Constant.EVENT.HERO_IDLE)},this)},e.prototype.start=function(){},s([l(cc.Node)],e.prototype,"Joystick",void 0),s([l()],e.prototype,"Max_r",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Constant":"Constant"}],Kazetsu:[function(t,e,o){"use strict";cc._RF.push(e,"d7a27aABxtKlY99H/fpeW3Z","Kazetsu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Constant"),a=t("./Hero"),r=cc._decorator,l=r.ccclass,h=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animAttackArr=["attack_a","attack_b","attack_c","attack_d"],e}return i(e,t),e.prototype.start=function(){this.animSkillArr=["skill_1","skill_2","skill_3"],this.colliderNameArr=[this.effect.name]},e.prototype.addCaseSkelListener=function(t){-1!==this.animSkillArr.indexOf(t)&&(this.isRun?this.changeAnimation(0,"run",!0):this.changeAnimation(0,"idle",!0),this.checkOpponentAction())},e.prototype.enableCollider=function(t,e){if(void 0===t&&(t=""),void 0===e&&(e=!1),this.checkAttack())switch(t){case this.animAttackArr[0]:case this.animAttackArr[1]:case this.animAttackArr[2]:case this.animAttackArr[3]:}},e.prototype.action=function(){var t=this,e=cc.tween,o=this.getDirectionParam(),n=this.type;switch(this.skeleton.animation){case n.SKILL_1:break;case n.SKILL_2:e(this.node).delay(2).by(.1,{x:100*o}).call(function(){t.checkOutScreen()}).start();break;case n.SKILL_3:e(this.node).delay(.7).by(1,{x:60*o}).call(function(){t.checkOutScreen()}).start()}},e.prototype.runEffect=function(){var t=this.type;switch(this.skeleton.animation){case"attack_a":this.showEffect("kazetsu_atk_a",this.node,0,this);break;case"attack_b":this.showEffect("kazetsu_atk_b",this.node,0,this);break;case"attack_c":this.showEffect("kazetsu_atk_c",this.node,.1,this);break;case"attack_d":this.showEffect("kazetsu_atk_d",this.node,.3,this),this.showEffect("kazetsu_tornado",this.node.parent,.3,this);break;case t.SKILL_1:this.showEffect("kazetsu_skill_1",this.node,.5,this);break;case t.SKILL_2:this.showEffect("kazetsu_skill_2_slash",this.node,.5,this),this.showEffect("kazetsu_skill_2_slash",this.node,1.2,this),this.showEffect("kazetsu_skill_2_impact",this.node,2,this);break;case t.SKILL_3:this.showEffect("kazetsu_skill_3_slash_1",this.node,.8,this),this.showEffect("kazetsu_skill_3_slash_1",this.node,1.1,this),this.showEffect("kazetsu_skill_3_slash_1",this.node,1.6,this),this.showEffect("kazetsu_skill_3_slash_2",this.node,3,this)}},e.prototype.playSound=function(t){if(void 0===t&&(t=null),t)cc.Canvas.instance.node.emit(t);else{var e=this.type;switch(this.skeleton.animation){case this.animAttackArr[0]:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.KAZETSU_ATK_A);case this.animAttackArr[1]:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.KAZETSU_ATK_B);case this.animAttackArr[2]:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.KAZETSU_ATK_C);case this.animAttackArr[3]:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.KAZETSU_ATK_D);case e.SKILL_1:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.KAZETSU_SKILL_1);case e.SKILL_2:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.KAZETSU_SKILL_2);case e.SKILL_3:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.KAZETSU_SKILL_3)}}},s([l],e)}(a.default));o.default=h,cc._RF.pop()},{"../Constant":"Constant","./Hero":"Hero"}],NewScript:[function(t,e,o){"use strict";cc._RF.push(e,"aeaafF8v0FDOLJWE/C+RV9T","NewScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!0,t.enabledDrawBoundingBox=!0},s([r(cc.Label)],e.prototype,"label",void 0),s([r],e.prototype,"text",void 0),s([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PlatformBrandIcon:[function(t,e,o){"use strict";cc._RF.push(e,"2fe60duzY9Mc6qSU+oedvza","PlatformBrandIcon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,r=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.androidIcon=null,e.iosIcon=null,e}return i(e,t),e.prototype.start=function(){this.node.zIndex=cc.macro.MAX_ZINDEX,cc.sys.os==cc.sys.OS_ANDROID?this.getComponent(cc.Sprite).spriteFrame=this.androidIcon:cc.sys.os==cc.sys.OS_IOS&&(this.getComponent(cc.Sprite).spriteFrame=this.iosIcon)},s([r(cc.SpriteFrame)],e.prototype,"androidIcon",void 0),s([r(cc.SpriteFrame)],e.prototype,"iosIcon",void 0),s([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Runner:[function(t,e,o){"use strict";cc._RF.push(e,"9cdd6u1XhtJop6TiloXNIww","Runner");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Enemy"),a=cc._decorator,r=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.front_hand_collider=null,e.back_hand_collider=null,e}return i(e,t),e.prototype.start=function(){this.colliderAtkArr=[this.front_hand_collider,this.back_hand_collider],this.colliderNameArr=[this.front_hand_collider.node.name,this.back_hand_collider.node.name],this.front_hand_collider.enabled=!1,this.back_hand_collider.enabled=!1,this.setDamage(this.front_hand_collider,this.type.ATK_DAMAGE),this.setDamage(this.back_hand_collider,this.type.ATK_DAMAGE)},e.prototype.enableCollider=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1),this.checkAttack()&&(this.setUpCollider(this.front_hand_collider,.5,e,.15),this.setUpCollider(this.back_hand_collider,1,e,.15))},s([l(cc.PolygonCollider)],e.prototype,"front_hand_collider",void 0),s([l(cc.PolygonCollider)],e.prototype,"back_hand_collider",void 0),s([r],e)}(c.default);o.default=h,cc._RF.pop()},{"./Enemy":"Enemy"}],Sword:[function(t,e,o){"use strict";cc._RF.push(e,"2155e66DktG1LNtrr8fPVpe","Sword");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Enemy"),a=cc._decorator,r=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.front_sword_collider=null,e.back_sword_collider=null,e}return i(e,t),e.prototype.start=function(){this.colliderAtkArr=[this.front_sword_collider,this.back_sword_collider],this.colliderNameArr=[this.front_sword_collider.node.name,this.back_sword_collider.node.name],this.front_sword_collider.enabled=!1,this.back_sword_collider.enabled=!1,this.setDamage(this.front_sword_collider,this.type.ATK_DAMAGE),this.setDamage(this.back_sword_collider,this.type.ATK_DAMAGE)},e.prototype.enableCollider=function(t,e){if(void 0===t&&(t=""),void 0===e&&(e=!1),this.checkAttack())switch(t){case"attack_a":this.setUpCollider(this.front_sword_collider,.6,e,.2);break;case"attack_b":this.setUpCollider(this.front_sword_collider,.5,e,.3)}},s([l(cc.PolygonCollider)],e.prototype,"front_sword_collider",void 0),s([l(cc.PolygonCollider)],e.prototype,"back_sword_collider",void 0),s([r],e)}(c.default);o.default=h,cc._RF.pop()},{"./Enemy":"Enemy"}],Velora:[function(t,e,o){"use strict";cc._RF.push(e,"f37b2U3RLBBf6ZXN+/IPx6f","Velora");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Constant"),a=t("./Hero"),r=t("./HeroListener"),l=cc._decorator,h=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effect_summon=null,e.dagger_collider=null,e.blade_collider=null,e.bulletPrefab=null,e.animAttackArr=["attack_a","attack_b","attack_d","attack_e"],e}return i(e,t),e.prototype.start=function(){this.animSkillArr=["skill1","skill2","skill3"],this.dagger_collider.enabled=!1,this.blade_collider.enabled=!1,this.colliderNameArr=[this.effect.name,this.bulletPrefab.name]},e.prototype.addCaseSkelListener=function(t){-1!==this.animSkillArr.indexOf(t)&&(this.isRun?this.changeAnimation(0,"run",!0):this.changeAnimation(0,"idle",!0),this.checkOpponentAction())},e.prototype.onBulletExplode=function(t,e,o){t==this.node&&(o?this.showEffect("velora_skill_1_impact",this.node.parent,0,null,o.add(cc.v3(0,-50))):this.showEffect("velora_skill_1_impact",e.node.parent,0,null,e.node.position.add(cc.v3(0,80))))},e.prototype.runEffect=function(){var t=this.type;switch(this.skeleton.animation){case"attack_a":this.showEffect("velora_atk_a",this.node,0,this);break;case"attack_b":this.showEffect("velora_atk_b",this.node,0,this);break;case"attack_d":this.showEffect("velora_atk_d",this.node,0,this);break;case"attack_e":this.showEffect("velora_atk_e",this.node,.3,this);break;case t.SKILL_1:this.showEffect("velora_skill_1_body",this.node,.1,this);break;case t.SKILL_2:this.showEffect("velora_skill_2",this.node,.1,this),this.showEffect("velora_skill_2",this.node,.4,this),this.showEffect("velora_skill_2",this.node,.7,this);break;case t.SKILL_3:this.showEffect("velora_skill_3",this.node,.5,this)}},e.prototype.playSound=function(t){if(void 0===t&&(t=null),t)cc.Canvas.instance.node.emit(t);else{var e=this.type;switch(this.skeleton.animation){case this.animAttackArr[0]:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.VELORA_ATK_A);case this.animAttackArr[1]:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.VELORA_ATK_B);case this.animAttackArr[2]:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.VELORA_ATK_D);case this.animAttackArr[3]:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.VELORA_ATK_E);case e.SKILL_1:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.VELORA_SKILL_1);case e.SKILL_2:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.VELORA_SKILL_2);case e.SKILL_3:return void cc.Canvas.instance.node.emit(c.Constant.EVENT.SOUND.VELORA_SKILL_3)}}},e.prototype.action=function(){var t=this,e=cc.tween,o=this.getDirectionParam();switch(this.skeleton.animation){case"skill2":e(this.node).by(.9,{x:400*o}).call(function(){t.checkOutScreen()}).start();break;case"skill1":e(this.node).parallel(e().by(1,{x:-250*o}),e().by(.5,{y:100}).by(.5,{y:-100})).call(function(){t.checkOutScreen()}).start(),this.scheduleOnce(function(){t.shoot(-20,200,-50),t.shoot(-25,200,-50),t.shoot(-30,200,-50)},.3)}},e.prototype.shoot=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0);var n=this.getDirectionParam(),i=this.createBullet();this.node.parent.addChild(i),i.position=this.node.position.add(cc.v3(o*n,e)),i.angle=n>0?t:180-t;var s=700*Math.sin(t*Math.PI/180),c=700*Math.cos(t*Math.PI/180);cc.tween(i).by(.4,{position:cc.v3(c*n,s)}).call(function(){i.destroy()}).start()},e.prototype.createBullet=function(){var t=cc.instantiate(this.bulletPrefab);return t.getComponent(r.default).hero=this.node,t.getComponent(r.default).damage=this.type.SKILL_1_DAMAGE,t.getComponent(r.default).isExplode=!0,t},s([p(cc.Node)],e.prototype,"effect_summon",void 0),s([p(cc.PolygonCollider)],e.prototype,"dagger_collider",void 0),s([p(cc.PolygonCollider)],e.prototype,"blade_collider",void 0),s([p(cc.Prefab)],e.prototype,"bulletPrefab",void 0),s([h],e)}(a.default);o.default=d,cc._RF.pop()},{"../Constant":"Constant","./Hero":"Hero","./HeroListener":"HeroListener"}],effect_click:[function(t,e,o){"use strict";cc._RF.push(e,"d7dde7FiopE4qYtVpZ/lKWM","effect_click");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,r=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.finish=function(){this.node.destroy()},s([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],effect:[function(t,e,o){"use strict";cc._RF.push(e,"efef7WCh89Ogowl0tUerIu+","effect");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,c=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(s<3?i(c):s>3?i(e,o,c):i(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Hero/HeroListener"),a=cc._decorator,r=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.collider=null,e.game=null,e}return i(e,t),e.prototype.start=function(){this.node.zIndex=cc.macro.MAX_ZINDEX},e.prototype.play=function(t,e,o){var n=this;void 0===o&&(o=cc.v3()),this.collider.enabled=!1;var i=this.node.getComponent(c.default),s=cc.Global.getDataByName(this.anim._clips,t);if(s){switch(e&&(i.hero=e.node),t){case"velora_atk_a":this.node.setPosition(this.node.position.add(cc.v3(200,200))),this.node.setScale(5),s.speed=.4,this.setUpCollider(125,75,2.4,12,.1,.1),i.damage=e.type.ATK_1_DAMAGE;break;case"velora_atk_b":this.node.setPosition(this.node.position.add(cc.v3(200,200))),this.node.setScale(4),s.speed=.4,this.setUpCollider(185,67,20,20,.1,.1),i.damage=e.type.ATK_2_DAMAGE;break;case"velora_atk_d":this.node.setPosition(this.node.position.add(cc.v3(180,240))),this.node.setScale(6),s.speed=.4,this.setUpCollider(105,123,15,10,.1,.1),i.damage=e.type.ATK_3_DAMAGE;break;case"velora_atk_e":this.node.setPosition(this.node.position.add(cc.v3(450,250))),this.node.setScale(6.5),s.speed=.4,this.setUpCollider(148,110,6,-3.5,.1,.1),i.damage=e.type.ATK_4_DAMAGE;break;case"velora_skill_2":this.node.setPosition(this.node.position.add(cc.v3(600,170))),this.node.setScale(6),s.speed=.4,this.setUpCollider(115,53,-28,8,.1,.1),i.damage=e.type.SKILL_2_DAMAGE;break;case"velora_skill_3":this.node.setPosition(this.node.position.add(cc.v3(500,190))),this.node.setScale(7),s.speed=.4,this.setUpCollider(100,100,6,1,.1,.1),i.damage=e.type.SKILL_3_DAMAGE;break;case"velora_skill_1_body":this.node.setPosition(this.node.position.add(cc.v3(-20,350))),this.node.setScale(5),s.speed=.4;break;case"kazetsu_atk_a":this.node.setPosition(this.node.position.add(cc.v3(250,300))),this.node.setScale(5),s.speed=.4,this.setUpCollider(57.7,126,24.1,.9,.1,.1),i.damage=e.type.ATK_1_DAMAGE;break;case"kazetsu_atk_b":this.node.setPosition(this.node.position.add(cc.v3(350,400))),this.node.setScale(6),s.speed=.4,this.setUpCollider(93.8,116.1,21.9,-7.5,.1,.1),i.damage=e.type.ATK_2_DAMAGE;break;case"kazetsu_atk_c":this.node.setPosition(this.node.position.add(cc.v3(400,450))),this.node.setScale(6),s.speed=.4,this.setUpCollider(95.7,137.9,-.5,-2.1,.1,.1),i.damage=e.type.ATK_3_DAMAGE;break;case"kazetsu_atk_d":this.node.setPosition(this.node.position.add(cc.v3(550,450))),this.node.setScale(7),s.speed=.4;break;case"kazetsu_tornado":var a=e.node,r=a.scaleX>0?1:-1;this.node.setPosition(a.position.add(cc.v3(90*r,90))),this.node.setScale(2),s.speed=.5,cc.tween(this.node).parallel(cc.tween().by(1,{x:800*r}),cc.tween().delay(.7).to(.3,{opacity:0})).call(function(){n.node.destroy()}).start(),this.setUpCollider(140.3,142.4,2.2,10),i.damage=e.type.ATK_4_DAMAGE;break;case"kazetsu_skill_1":this.node.setPosition(this.node.position.add(cc.v3(600,190))),this.node.setScale(5),s.speed=.4,this.setUpCollider(215.9,152.1,-8.3,14.9,.1,.2),i.damage=e.type.SKILL_1_DAMAGE;break;case"kazetsu_skill_2_slash":this.node.setPosition(this.node.position.add(cc.v3(250,40))),this.node.setScale(9),s.speed=.4,this.setUpCollider(75.5,99.2,.7,26.4,.1,.1),i.damage=e.type.SKILL_2_DAMAGE;break;case"kazetsu_skill_2_impact":this.node.setPosition(this.node.position.add(cc.v3(100,210))),this.node.setScale(6),s.speed=.4,this.setUpCollider(199,122,51.2,5.9,.1,.4),i.damage=e.type.SKILL_2_DAMAGE;break;case"kazetsu_skill_3_slash_1":this.node.setPosition(this.node.position.add(cc.v3(200,210))),this.node.setScale(5),s.speed=.4,this.setUpCollider(131,125.9,25.4,3.3,.1,.1),i.damage=e.type.SKILL_3_DAMAGE;break;case"kazetsu_skill_3_slash_2":this.node.setPosition(this.node.position.add(cc.v3(350,350))),this.node.setScale(5),s.speed=.4,this.setUpCollider(127.4,184,23.1,-4.1,.1,.2),i.damage=e.type.SKILL_3_DAMAGE;break;case"ashley_bullet_shoot":this.node.setPosition(o),this.node.setScale(4),s.speed=.4;break;case"ashley_bullet_trigger":this.node.setPosition(o),this.node.setScale(1.5),s.speed=.4;break;case"velora_skill_1_impact":this.node.setPosition(o),this.node.setScale(3),s.speed=.4}this.anim.play(t)}else this.node.destroy()},e.prototype.setUpCollider=function(t,e,o,n,i,s){var c=this;void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===s&&(s=null),this.collider&&(this.collider.offset.x=o,this.collider.offset.y=n,this.collider.size.width=t,this.collider.size.height=e,this.scheduleOnce(function(){c.collider.enabled=!0},i),s&&this.scheduleOnce(function(){c.collider.enabled=!1},i+s))},e.prototype.finish=function(){this.node.destroy()},s([l(cc.Animation)],e.prototype,"anim",void 0),s([l(cc.BoxCollider)],e.prototype,"collider",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Hero/HeroListener":"HeroListener"}]},{},["AudioManager","BlockListener","CameraManager","Constant","Efx","Centaur","Enemy","EnemyListener","Runner","Sword","GroundListener","Ashley","Hero","HeroListener","Kazetsu","Velora","Joystick","NewScript","Gameplay_25","Gameplay_28","AdManager","Global","PlatformBrandIcon","effect","effect_click"]);